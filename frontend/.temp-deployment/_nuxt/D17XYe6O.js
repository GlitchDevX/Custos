import{b as w}from"./CrZCX3n8.js";import{n as b,T as k,ay as _,aA as y,G as C,b as B,g as z}from"./B-w2PmyG.js";import{i as x,x as V,K as E,J as I,c as m,o as s,a as o,q as u,j as c,w as f,b as v,p as l,G as h}from"./C5MHcV20.js";import"./CtBxx05M.js";import"./B45bc6ym.js";import"./CV4Hssdo.js";const N={class:"flex h-full w-full flex-col gap-2 pt-8"},j={class:"flex min-h-8 items-center justify-between gap-2 pl-1.5"},F={class:"has-[:focus-visible]:bg-b-1 group relative z-1 flex flex-col rounded-lg"},q={class:"flex h-full min-h-[calc(1rem*4)] flex-col"},A={key:1,class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},D=x({__name:"MarkdownInput",props:{modelValue:{},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue"],setup(g,{emit:n}){const d=n,t=V("preview"),i=V(null);E(t,a=>{a==="edit"&&I(()=>{i.value?.focus()})});const p=()=>{requestAnimationFrame(()=>{t.value="preview"})};return(a,e)=>(s(),m("div",N,[o("div",j,[e[5]||(e[5]=o("h3",{class:"font-bold"},"Description",-1)),t.value==="preview"?(s(),u(l(k),{key:0,class:"text-c-2 hover:text-c-1 flex items-center gap-2",size:"sm",type:"button",variant:"outlined",onClick:e[0]||(e[0]=r=>t.value="edit")},{default:f(()=>[v(l(b),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[4]||(e[4]=o("span",null,"Edit",-1))]),_:1,__:[4]})):c("",!0)]),o("div",F,[o("div",q,[t.value==="preview"?(s(),m(h,{key:0},[a.modelValue&&a.modelValue.trim().length?(s(),m(h,{key:0},[a.modelValue?(s(),u(l(_),{key:0,class:"h-full flex-1 rounded border border-transparent p-1.5 hover:border-(--scalar-background-3)",value:a.modelValue,withImages:"",onDblclick:e[1]||(e[1]=r=>t.value="edit")},null,8,["value"])):c("",!0),e[6]||(e[6]=o("div",{class:"brightness-lifted bg-b-1 absolute inset-0 -z-1 hidden rounded group-hover:block group-has-[:focus-visible]:hidden"},null,-1))],64)):(s(),m("div",A,[v(l(k),{class:"hover:bg-b-2 hover:text-c-1 text-c-2 flex items-center gap-2",size:"sm",variant:"ghost",onClick:e[2]||(e[2]=r=>t.value="edit")},{default:f(()=>[v(l(b),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[7]||(e[7]=o("span",null,"Write a description",-1))]),_:1,__:[7]})]))],64)):c("",!0),t.value==="edit"?(s(),u(y,{key:1,ref_key:"codeInputRef",ref:i,class:"h-full flex-1 border px-0.5 py-0",envVariables:a.envVariables,environment:a.environment,modelValue:a.modelValue,workspace:a.workspace,onBlur:p,"onUpdate:modelValue":e[3]||(e[3]=r=>d("update:modelValue",r))},null,8,["envVariables","environment","modelValue","workspace"])):c("",!0)])])]))}}),G=C(D,[["__scopeId","data-v-5997a667"]]),J=x({__name:"CollectionOverview",setup(g){const{activeCollection:n,activeEnvironment:d,activeEnvVariables:t,activeWorkspace:i}=B(),{collectionMutators:p}=z(),a=e=>{n.value&&p.edit(n.value.uid,"info.description",e)};return(e,r)=>(s(),u(w,null,{default:f(()=>[l(d)&&l(i)?(s(),u(G,{key:0,envVariables:l(t),environment:l(d),modelValue:l(n)?.info?.description??"",workspace:l(i),"onUpdate:modelValue":a},null,8,["envVariables","environment","modelValue","workspace"])):c("",!0)]),_:1}))}});export{J as default};
